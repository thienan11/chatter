{"ast":null,"code":"var _jsxFileName = \"/Users/thienantran/Downloads/Projects/superchatter/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React from 'react';\nimport './App.css';\n\n// firebase sdk\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/firestore';\nimport 'firebase/compat/auth';\n\n// hooks\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\n\n// identify project\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfirebase.initializeApp({\n  // config\n  apiKey: \"AIzaSyBuc9CrDPXhGevsGO5Jm6S68Hxa30d0nNk\",\n  authDomain: \"superchatter-acb0a.firebaseapp.com\",\n  projectId: \"superchatter-acb0a\",\n  storageBucket: \"superchatter-acb0a.appspot.com\",\n  messagingSenderId: \"723565069036\",\n  appId: \"1:723565069036:web:f6b4afa06d651b09c1dbc9\",\n  measurementId: \"G-M4H0FQRGWC\"\n});\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\nfunction App() {\n  _s();\n  const [user] = useAuthState(auth); // signed in, user is an object) | signed out, user is null\n\n  // use ternary operator to check if a user is signed in or not\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: user ? /*#__PURE__*/_jsxDEV(Chat, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 28\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"hP/7NvzUIXfxIpRVjMlmHSnysKo=\", false, function () {\n  return [useAuthState];\n});\n_c = App;\nfunction SignIn() {\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: signInWithGoogle,\n    children: \"Sign in with Google\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_c2 = SignIn;\nfunction SignOut() {\n  // check for current user, and return a button to sign out\n  return auth.currentUser && /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => auth.signOut(),\n    children: \"Sign Out\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_c3 = SignOut;\nfunction Chat() {\n  _s2();\n  // reference a firestore collection (in this case, messages)\n  const messageRef = firestore.collection('messages');\n  // query documents in the messages collection\n  const query = messageRef.orderBy('created').limit(25);\n\n  // listen to data with a hook in real time\n  const [messages] = useCollectionData(query, {\n    idField: 'id'\n  });\n  const [formValue, setFormValue] = useState('');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: messages && messages.map(msg => /*#__PURE__*/_jsxDEV(ChatMessage, {\n        message: msg\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 42\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: sendMessage,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: formValue,\n        onChange: e => setFormValue(e.target.value),\n        placeholder: \"no cussing pls\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"SEND\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s2(Chat, \"38hAA91vZ2snInUbhlRkIAzUs8M=\", false, function () {\n  return [useCollectionData];\n});\n_c4 = Chat;\nfunction ChatMessage(props) {\n  // find chat message child component, show actual text\n  const {\n    text,\n    uid\n  } = props.message;\n\n  // distinguish between messages that were sent and received\n  // compare user id on firestore document and currently logged in user, if equal, current user sent them\n  const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `message ${messageClass}`,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: photoURL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n_c5 = ChatMessage;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"SignIn\");\n$RefreshReg$(_c3, \"SignOut\");\n$RefreshReg$(_c4, \"Chat\");\n$RefreshReg$(_c5, \"ChatMessage\");","map":{"version":3,"names":["React","firebase","useAuthState","useCollectionData","jsxDEV","_jsxDEV","Fragment","_Fragment","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","App","_s","user","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Chat","SignIn","_c","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","onClick","_c2","SignOut","currentUser","signOut","_c3","_s2","messageRef","collection","query","orderBy","limit","messages","idField","formValue","setFormValue","useState","map","msg","ChatMessage","message","id","onSubmit","sendMessage","value","onChange","e","target","placeholder","type","_c4","props","text","uid","messageClass","src","photoURL","_c5","$RefreshReg$"],"sources":["/Users/thienantran/Downloads/Projects/superchatter/src/App.js"],"sourcesContent":["import React from 'react';\nimport './App.css';\n\n// firebase sdk\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/firestore';\nimport 'firebase/compat/auth';\n\n// hooks\nimport {useAuthState} from 'react-firebase-hooks/auth';\nimport {useCollectionData} from 'react-firebase-hooks/firestore';\n\n// identify project\nfirebase.initializeApp({\n  // config\n  apiKey: \"AIzaSyBuc9CrDPXhGevsGO5Jm6S68Hxa30d0nNk\",\n  authDomain: \"superchatter-acb0a.firebaseapp.com\",\n  projectId: \"superchatter-acb0a\",\n  storageBucket: \"superchatter-acb0a.appspot.com\",\n  messagingSenderId: \"723565069036\",\n  appId: \"1:723565069036:web:f6b4afa06d651b09c1dbc9\",\n  measurementId: \"G-M4H0FQRGWC\"\n})\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nfunction App() {\n\n  const[user] = useAuthState(auth); // signed in, user is an object) | signed out, user is null\n\n  // use ternary operator to check if a user is signed in or not\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        \n      </header>\n      \n      <section>\n        \n        {user ? <Chat /> : <SignIn />}\n      </section>\n    </div>\n  );\n}\n\nfunction SignIn() {\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  }\n\n  return (\n    <button onClick={signInWithGoogle}>Sign in with Google</button>\n  )\n}\n\nfunction SignOut() {\n  // check for current user, and return a button to sign out\n  return auth.currentUser && (\n    <button onClick={() => auth.signOut()}>Sign Out</button>\n  )\n}\n\nfunction Chat(){\n  // reference a firestore collection (in this case, messages)\n  const messageRef = firestore.collection('messages');\n  // query documents in the messages collection\n  const query = messageRef.orderBy('created').limit(25);\n\n  // listen to data with a hook in real time\n  const[messages] = useCollectionData(query, {idField: 'id'});\n\n  const[formValue, setFormValue] = useState('');\n\n  return (\n    <>\n      <div>\n        {messages && messages.map(msg => <ChatMessage key={msg.id} message={msg} />)}\n      </div>\n\n      <form onSubmit={sendMessage}>\n        {/* bind state to form input */}\n        <input value={formValue} onChange={(e) => setFormValue(e.target.value)} placeholder=\"no cussing pls\" />\n        \n        <button type=\"submit\">SEND</button>\n\n      </form>\n    </>\n  )\n}\n\nfunction ChatMessage(props) {\n  // find chat message child component, show actual text\n  const {text, uid} = props.message;\n\n  // distinguish between messages that were sent and received\n  // compare user id on firestore document and currently logged in user, if equal, current user sent them\n  const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received';\n\n\n  return (\n    <div className={`message ${messageClass}`}>\n      <img src={photoURL}/>\n      <p>{text}</p>\n    </div>\n  \n  )\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}